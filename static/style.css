/* =============================================
   CRONOGRAMA UTB v2 — style.css
   Con módulo de finanzas y detalles
   ============================================= */

:root {
  --azul:  #003B71; --azul2: #005EB8;
  --verde: #00843D; --verde2:#00A94F;
  --gris:  #F4F6F9; --gris2: #E8EDF3;
  --texto: #1A2B3C;
  --c-am: #FFF9C4; --b-am: #F9A825;
  --c-az: #DBEAFE; --b-az: #1D4ED8;
  --c-vd: #DCFCE7; --b-vd: #15803D;
  --c-na: #FFF3E0; --b-na: #E65100;
  --c-ro: #FFEBEE; --b-ro: #B71C1C;
}

* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Segoe UI',sans-serif; background:var(--gris); color:var(--texto); min-height:100vh; }

/* ==================== LOGIN ==================== */
#loginScreen { display:flex; align-items:center; justify-content:center; min-height:100vh;
  background:linear-gradient(135deg,var(--azul) 0%,var(--azul2) 55%,var(--verde) 100%); }
.auth-box { background:white; padding:2.5rem; border-radius:20px;
  box-shadow:0 25px 60px rgba(0,0,0,.35); width:100%; max-width:480px; }
.auth-logo { text-align:center; margin-bottom:1.5rem; }
.auth-logo .esc { font-size:3rem; display:block; margin-bottom:.4rem; }
.auth-logo h1 { color:var(--azul); font-size:1.45rem; font-weight:800; line-height:1.2; }
.auth-logo p { color:var(--verde); font-size:.8rem; font-weight:700;
  letter-spacing:1px; text-transform:uppercase; margin-top:.3rem; }
.auth-tabs { display:flex; margin-bottom:2rem; border-radius:12px; overflow:hidden; border:2px solid var(--gris2); }
.auth-tab { flex:1; padding:.75rem; border:none; background:var(--gris2); cursor:pointer;
  font-weight:700; font-size:.9rem; transition:all .3s; color:#777; }
.auth-tab.active { background:var(--azul); color:white; }
.usuarios-info { background:var(--gris); border-radius:10px; padding:.85rem; margin-bottom:1.3rem;
  font-size:.82rem; color:#555; text-align:center; }
.usuarios-info strong { color:var(--azul); }

/* FORMULARIOS */
.fg { margin-bottom:1.1rem; }
.fg label { display:block; color:var(--azul); font-weight:700; font-size:.82rem; margin-bottom:.35rem; }
.fg input, .fg select, .fg textarea { width:100%; padding:.82rem 1rem; border:2px solid var(--gris2);
  border-radius:10px; font-size:.92rem; transition:all .3s; background:white; font-family:inherit; }
.fg input:focus, .fg select:focus, .fg textarea:focus { outline:none; border-color:var(--azul);
  box-shadow:0 0 0 3px rgba(0,59,113,.1); }
.form-row { display:grid; grid-template-columns:1fr 1fr; gap:1rem; }
.form-row-3 { display:grid; grid-template-columns:repeat(3, 1fr); gap:1rem; }

/* BOTONES */
.btn-auth { width:100%; background:linear-gradient(135deg,var(--azul),var(--azul2)); color:white;
  border:none; padding:.95rem; border-radius:10px; font-size:1rem; font-weight:700; cursor:pointer;
  transition:all .3s; margin-top:.4rem; }
.btn-auth:hover { transform:translateY(-3px); box-shadow:0 8px 25px rgba(0,59,113,.4); }
.btn-auth.verde { background:linear-gradient(135deg,var(--verde),var(--verde2)); }
.btn-auth.verde:hover { box-shadow:0 8px 25px rgba(0,132,61,.4); }
.auth-msg { padding:.75rem; border-radius:8px; font-size:.85rem; font-weight:600;
  margin-top:.8rem; text-align:center; display:none; }
.auth-msg.error { background:#ffebee; color:#b71c1c; }
.auth-msg.ok { background:#e8f5e9; color:#1b5e20; }

/* APP HEADER */
#appScreen { display:none; }
.app-header { background:linear-gradient(135deg,var(--azul),var(--azul2)); color:white;
  padding:.9rem 2rem; display:flex; justify-content:space-between; align-items:center;
  position:sticky; top:0; z-index:100; box-shadow:0 4px 15px rgba(0,59,113,.4); }
.h-left { display:flex; align-items:center; gap:1rem; }
.h-logo { width:44px; height:44px; background:white; border-radius:50%;
  display:flex; align-items:center; justify-content:center; font-size:1.5rem; }
.h-title h1 { font-size:1.2rem; font-weight:800; }
.h-title p { font-size:.72rem; opacity:.8; letter-spacing:.5px; }
.h-right { display:flex; align-items:center; gap:1rem; }
.u-chip { background:rgba(255,255,255,.15); padding:.42rem 1rem; border-radius:25px;
  font-size:.83rem; font-weight:600; border:1px solid rgba(255,255,255,.3); }
.btn-out { background:white; color:var(--azul); border:none; padding:.42rem 1rem;
  border-radius:25px; font-weight:700; cursor:pointer; font-size:.83rem; transition:all .3s; }
.btn-out:hover { transform:scale(1.05); }
.accent-bar { height:5px; background:linear-gradient(90deg,var(--verde),var(--verde2),var(--azul2)); }

/* TABS NAVEGACIÓN */
.tabs-nav { display:flex; justify-content:center; align-items:center; gap:1rem; padding:1rem 2rem;
  background:white; border-bottom:2px solid var(--gris2); flex-wrap:wrap; }
.tab-btn { background:white; color:var(--azul); border:2px solid var(--azul); padding:.7rem 1.8rem;
  border-radius:25px; font-size:1rem; font-weight:700; cursor:pointer; transition:all .3s; }
.tab-btn.active { background:var(--azul); color:white; }
.tab-btn:hover:not(.active) { background:rgba(0,59,113,.05); }
.btn-export { background:linear-gradient(135deg,var(--verde),var(--verde2)); color:white; border:none;
  padding:.7rem 1.8rem; border-radius:25px; font-size:1rem; font-weight:700; cursor:pointer;
  transition:all .3s; }
.btn-export:hover { transform:translateY(-3px); box-shadow:0 8px 25px rgba(0,132,61,.4); }

.tab-content { display:none; }
.tab-content.active { display:block; }

/* LEYENDA */
.leyenda { display:flex; justify-content:center; gap:1.2rem; flex-wrap:wrap;
  padding:.8rem 2rem; background:white; border-bottom:1px solid var(--gris2);
  font-size:.77rem; font-weight:600; color:#555; }
.li { display:flex; align-items:center; gap:.4rem; }
.ld { width:13px; height:13px; border-radius:50%; border:2px solid; }
.ld.am { background:var(--c-am); border-color:var(--b-am); }
.ld.az { background:var(--c-az); border-color:var(--b-az); }
.ld.vd { background:var(--c-vd); border-color:var(--b-vd); }
.ld.na { background:var(--c-na); border-color:var(--b-na); }
.ld.ro { background:var(--c-ro); border-color:var(--b-ro); }

/* CONTENIDO */
.app-body { max-width:1400px; margin:2rem auto; padding:0 1.5rem; }

/* STATS */
.stats { display:grid; grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); gap:1rem; margin-bottom:2rem; }
.stat { background:white; padding:1.2rem 1rem; border-radius:14px; text-align:center;
  box-shadow:0 4px 15px rgba(0,0,0,.06); border-top:4px solid; }
.stat .sn { font-size:2.2rem; font-weight:800; line-height:1; }
.stat .sl { font-size:.73rem; color:#777; font-weight:600; margin-top:.3rem; }
.s-tot { border-color:var(--azul); } .s-tot .sn { color:var(--azul); }
.s-am { border-color:var(--b-am); } .s-am .sn { color:var(--b-am); }
.s-az { border-color:var(--b-az); } .s-az .sn { color:var(--b-az); }
.s-vd { border-color:var(--b-vd); } .s-vd .sn { color:var(--b-vd); }
.s-na { border-color:var(--b-na); } .s-na .sn { color:var(--b-na); }
.s-ro { border-color:var(--b-ro); } .s-ro .sn { color:var(--b-ro); }

/* BARRA DE ACCIONES */
.act-bar { display:flex; justify-content:space-between; align-items:center;
  margin-bottom:1.5rem; flex-wrap:wrap; gap:1rem; }
.act-bar h2 { font-size:1.6rem; color:var(--azul); font-weight:800; }
.btn-nueva { background:linear-gradient(135deg,var(--verde),var(--verde2)); color:white;
  border:none; padding:.8rem 1.8rem; border-radius:25px; font-size:.95rem;
  font-weight:700; cursor:pointer; transition:all .3s; }
.btn-nueva:hover { transform:translateY(-3px); box-shadow:0 8px 25px rgba(0,132,61,.4); }
.btn-nueva:disabled { background:#ccc; cursor:not-allowed; transform:none; box-shadow:none; }

/* FILTROS */
.filtros { display:flex; gap:.6rem; margin-bottom:1.5rem; flex-wrap:wrap; }
.fb { padding:.52rem 1.1rem; border:2px solid var(--gris2); border-radius:25px; cursor:pointer;
  background:white; font-weight:600; font-size:.8rem; transition:all .3s; color:#666; }
.fb:hover, .fb.active { border-color:var(--azul); color:var(--azul); background:rgba(0,59,113,.07); }

/* TABLAS */
.tabla-wrap { background:white; border-radius:18px; box-shadow:0 8px 30px rgba(0,0,0,.08); overflow:hidden; }
.t-head { display:grid; grid-template-columns:2.8fr 1.4fr 1.2fr 1.2fr 1.2fr 1.3fr; padding:.9rem 1.5rem;
  gap:1rem; background:linear-gradient(135deg,var(--azul),var(--azul2)); color:white;
  font-weight:700; font-size:.82rem; }
.a-row { display:grid; grid-template-columns:2.8fr 1.4fr 1.2fr 1.2fr 1.2fr 1.3fr; padding:1rem 1.5rem;
  align-items:center; gap:1rem; border-bottom:1px solid var(--gris2); border-left:5px solid transparent;
  transition:background .3s; cursor:pointer; }
.a-row:last-child { border-bottom:none; }
.a-row:hover { background:rgba(0,59,113,.03); }

/* COLORES DE FILA */
.e-default { background:#FFFDE7; border-left-color:var(--b-am); }
.e-prematuro{ background:var(--c-az); border-left-color:var(--b-az); }
.e-tiempo { background:var(--c-vd); border-left-color:var(--b-vd); }
.e-leve { background:var(--c-na); border-left-color:var(--b-na); }
.e-tarde { background:var(--c-ro); border-left-color:var(--b-ro); }

.a-nom { font-weight:600; color:var(--texto); font-size:.93rem; }
.a-nom.done { text-decoration:line-through; opacity:.6; }
.a-desc { font-size:.77rem; color:#888; margin-top:2px; }
.a-meta { font-size:.72rem; color:#aaa; margin-top:2px; }

/* BADGES */
.badge { display:inline-block; padding:.26rem .7rem; border-radius:20px; font-size:.72rem;
  font-weight:700; border:2px solid; }
.b-default { background:#FFF9C4; color:#F57F17; border-color:var(--b-am); }
.b-prematuro{ background:var(--c-az); color:#1D4ED8; border-color:var(--b-az); }
.b-tiempo { background:var(--c-vd); color:#15803D; border-color:var(--b-vd); }
.b-leve { background:var(--c-na); color:#BF360C; border-color:var(--b-na); }
.b-tarde { background:var(--c-ro); color:#7F0000; border-color:var(--b-ro); }

/* BOTONES DE ACCIÓN */
.btn-a { background:none; border:2px solid; padding:.35rem .7rem; border-radius:18px;
  cursor:pointer; font-size:.77rem; font-weight:700; transition:all .3s; }
.btn-comp { border-color:var(--b-vd); color:var(--b-vd); }
.btn-comp:hover { background:var(--b-vd); color:white; }
.btn-edit { border-color:var(--azul2); color:var(--azul2); }
.btn-edit:hover { background:var(--azul2); color:white; }
.btn-del { border-color:var(--b-ro); color:var(--b-ro); }
.btn-del:hover { background:var(--b-ro); color:white; }
.btn-view { border-color:#7b1fa2; color:#7b1fa2; }
.btn-view:hover { background:#7b1fa2; color:white; }
.btn-lock { border-color:#bbb; color:#bbb; cursor:not-allowed; }
.acc { display:flex; gap:.3rem; flex-wrap:wrap; }

.empty { text-align:center; padding:4rem; color:#aaa; }
.empty .ei { font-size:4rem; margin-bottom:1rem; }

/* FINANZAS */
.fin-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:2rem;
  flex-wrap:wrap; gap:1.5rem; }
.fin-subtitle { color:#666; font-size:.95rem; margin-top:.3rem; }
.fin-total-box { background:linear-gradient(135deg,var(--verde),var(--verde2)); padding:1.2rem 2rem;
  border-radius:15px; text-align:center; color:white; box-shadow:0 5px 20px rgba(0,132,61,.3); }
.fin-total-label { display:block; font-size:.8rem; opacity:.9; margin-bottom:.3rem; }
.fin-total-value { display:block; font-size:2rem; font-weight:800; }

.t-head-fin { display:grid; grid-template-columns:1fr 2.5fr 1.2fr 1.5fr .7fr 1fr 1fr 1.2fr;
  padding:.9rem 1.5rem; gap:1rem; background:linear-gradient(135deg,var(--azul),var(--azul2));
  color:white; font-weight:700; font-size:.82rem; }
.f-row { display:grid; grid-template-columns:1fr 2.5fr 1.2fr 1.5fr .7fr 1fr 1fr 1.2fr; padding:1rem 1.5rem;
  align-items:center; gap:1rem; border-bottom:1px solid var(--gris2); transition:background .3s; }
.f-row:last-child { border-bottom:none; }
.f-row:hover { background:rgba(0,59,113,.03); }

/* MODALES */
.ov { display:none; position:fixed; inset:0; background:rgba(0,0,0,.65); z-index:1000;
  align-items:center; justify-content:center; }
.ov.open { display:flex; }
.mbox { background:white; padding:2.5rem; border-radius:18px; width:100%; max-width:600px;
  max-height:90vh; overflow-y:auto; position:relative; box-shadow:0 25px 60px rgba(0,0,0,.3); }
.mbox-large { max-width:900px; }
.mbox h3 { color:var(--azul); font-size:1.45rem; margin-bottom:1.6rem; padding-bottom:.9rem;
  border-bottom:3px solid var(--gris2); }
.mcls { position:absolute; top:1rem; right:1rem; background:var(--gris2); border:none;
  border-radius:50%; width:32px; height:32px; font-size:1.1rem; cursor:pointer; color:var(--azul);
  font-weight:700; display:flex; align-items:center; justify-content:center; }
.mcls:hover { background:var(--azul); color:white; }
.btn-save { width:100%; background:linear-gradient(135deg,var(--azul),var(--azul2)); color:white;
  border:none; padding:.95rem; border-radius:10px; font-size:1rem; font-weight:700; cursor:pointer;
  transition:all .3s; margin-top:.5rem; }
.btn-save:hover { transform:translateY(-3px); box-shadow:0 8px 25px rgba(0,59,113,.4); }

/* MODAL CONFIRMAR */
.cov { display:none; position:fixed; inset:0; background:rgba(0,0,0,.7); z-index:2000;
  align-items:center; justify-content:center; }
.cov.open { display:flex; }
.cbox { background:white; padding:2.5rem; border-radius:18px; max-width:500px; width:90%;
  text-align:center; box-shadow:0 25px 60px rgba(0,0,0,.3); }
.cbox .ci { font-size:3.5rem; margin-bottom:1rem; }
.cbox h3 { color:var(--texto); margin-bottom:.7rem; font-size:1.25rem; }
.cbox p { color:#666; margin-bottom:1.2rem; line-height:1.6; font-size:.88rem; }
.fecha-comp-wrap { margin:1rem 0; text-align:left; }
.fecha-comp-wrap label { display:block; color:var(--azul); font-weight:700; font-size:.85rem;
  margin-bottom:.4rem; }
.fecha-comp-wrap input, .fecha-comp-wrap textarea { width:100%; padding:.8rem 1rem; border:2px solid var(--gris2);
  border-radius:10px; font-size:.9rem; font-family:inherit; }
.fecha-comp-wrap input:focus, .fecha-comp-wrap textarea:focus { outline:none; border-color:var(--azul); }
.cbtns { display:flex; gap:1rem; justify-content:center; margin-top:1.5rem; }
.btn-cy { background:var(--verde); color:white; border:none; padding:.8rem 1.8rem; border-radius:10px;
  font-weight:700; cursor:pointer; transition:all .3s; }
.btn-cy:hover { transform:scale(1.05); }
.btn-cn { background:#eee; color:#555; border:none; padding:.8rem 1.8rem; border-radius:10px;
  font-weight:700; cursor:pointer; }
.btn-cn:hover { background:#ddd; }

/* DETALLES */
.detalle-section { margin-bottom:1.5rem; padding:1rem; background:var(--gris); border-radius:12px; }
.detalle-section h4 { color:var(--azul); font-size:1.1rem; margin-bottom:.5rem; }
.detalle-section p { color:#555; line-height:1.7; white-space:pre-wrap; }
.detalle-grid { display:grid; grid-template-columns:repeat(2, 1fr); gap:1rem; margin-top:1rem; }
.detalle-item { background:white; padding:1rem; border-radius:10px; }
.detalle-item strong { color:var(--azul); display:block; margin-bottom:.3rem; font-size:.85rem; }
.detalle-item span { color:#666; }

/* RESPONSIVE */
@media (max-width:900px) {
  .t-head, .a-row { grid-template-columns:2.5fr 1.3fr 1.2fr 1fr; }
  .t-head span:nth-child(3), .a-row>*:nth-child(3),
  .t-head span:nth-child(4), .a-row>*:nth-child(4) { display:none; }
  .t-head-fin, .f-row { grid-template-columns:1fr 2fr 1fr 1.2fr; }
  .t-head-fin span:nth-child(3), .f-row>*:nth-child(3),
  .t-head-fin span:nth-child(4), .f-row>*:nth-child(4),
  .t-head-fin span:nth-child(5), .f-row>*:nth-child(5),
  .t-head-fin span:nth-child(6), .f-row>*:nth-child(6) { display:none; }
  .detalle-grid { grid-template-columns:1fr; }
}
@media (max-width:600px) {
  .t-head, .t-head-fin { display:none; }
  .a-row, .f-row { grid-template-columns:1fr; gap:.5rem; }
  .form-row, .form-row-3 { grid-template-columns:1fr; }
  .app-header { padding:.8rem 1rem; }
  .h-title p { display:none; }
  .auth-box { padding:2rem 1.5rem; }
  .tabs-nav { padding:.8rem 1rem; }
}
